<!DOCTYPE html>
  <head>
    <title>ESP8266_HTML_GPIO</title>
    <h1>ESP8266_HTML_GPIO</h1>
  </head>
  <body>
    <input type="button" value="Save" onclick="persistent_state_save()">
    <input type="checkbox" id=gpio_0 data-gpio-pin-num="0" onchange="gpio_checkbox_toggle(this)">
    <label for="gpio_0">GPIO 0</label>
  </body>
  <script>
    function persistent_state_save() {
      var xhttp_request = new XMLHttpRequest;
      xhttp_request.open("GET", "/save", true);
      xhttp_request.send();
    }
    function gpio_checkbox_toggle(element) {
      var xhttp_request = new XMLHttpRequest;
      xhttp_request.open("GET", "/gpio?gpio_pin_num=" + element.data-gpio-pin-num + 
        "&gpio_set_level=" + element.checked, true);
      xhttp_request.send();
    }
  </script>
</html>
